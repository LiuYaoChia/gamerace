<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>💘 Multiplayer Cupid Race</title>
  <link rel="stylesheet" href="happiness-game.css" />
</head>
<body>

<!-- ✅ QR Code -->
<div id="qr-code">
  <img id="qr-img"
    src="https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=https%3A%2F%2Fliuyaochia.github.io%2Fgamerace%2FGame-setting%2Fhappiness-game.html"
    alt="無法顯示" />
</div>

<!-- ✅ PLAYER SETUP SCREEN -->
<div id="player-setup">
  <h2>💘 Enter Your Name</h2>
  <form id="name-form">
    <input type="text" id="player-name" placeholder="Enter your name" required />
    <select id="group-select">
      <option value="1">Group 1</option>
      <option value="2">Group 2</option>
      <option value="3">Group 3</option>
      <option value="4">Group 4</option>
      <option value="5">Group 5</option>
      <option value="6">Group 6</option>
    </select>
    <button type="submit">Join Race</button>
  </form>
  
  <!-- Add the enable motion button here -->
  <button id="enable-motion" style="margin-top: 12px;">開啟動作捕捉</button>
  
  <ul id="player-list"></ul>
  <button id="start-game" disabled>Start Game</button>
  <button id="reset-players" style="background-color: #e74c3c; margin-top: 12px;">重置</button>
</div>

<!-- ✅ GAME CONTAINER -->
<div class="game-container" style="display: none;">

  <!-- ✅ Track -->
  <div class="track" id="track">
    <!-- Lanes will be generated by JS:
    <div class="lane" id="player-PLAYER_ID">
      <img src="images/cupid.png" class="cupid" />
      <img src="images/heart-arrow.png" class="arrow-img" />
      <span class="player-name">Player Name</span>
    </div>
    -->
  </div>

  <!-- ✅ Ranking Panel -->
  <div class="ranking-panel">
    <h3>🏁GROUP RANKING</h3>
    <ul id="ranking-list"></ul>
  </div>

  <!-- ✅ Winner Popup -->
  <div id="winner-popup" style="display:none; align-items:center; justify-content:center; flex-direction:column; background:rgba(0,0,0,0.8);">
    <h2 id="winner-title">🏆 Winner!</h2>
    <div class="winner-scene">
      <img id="winner-cupid" src="img/transparent.png" class="winner-cupid" />
      <img id="winner-goal" src="img/goal.png" class="winner-goal" />
    </div>
    <div id="winner-name"></div>
    <div id="winner-message" style="margin-bottom: 20px;"></div>
    <button id="winner-exit">離開遊戲</button> 
  </div>
  
  <!-- ✅ Exit the game -->
  <button id="exit-game" style="margin-top: 1rem; background-color: #c0392b;">離開遊戲</button>
  
  <!-- ✅ Time Up Overlay -->
  <div class="overlay" id="timeup">TIME UP!</div>

</div>
  
<!-- 📱 Phone-only view -->
<div id="phone-view" style="display:none; text-align:center; margin-top:50px;">
  <div style="position:relative; display:inline-block;">
    <div id="phone-label" class="progress-label">Waiting...</div>
    <img id="phone-cupid" src="img/transparent.png" class="cupid" style="height:100px;" />
    <button id="rename-group-btn" style="margin-top:10px; display:none;">重新命名組別</button>
    <button id="leave-group-btn" style="margin-top:10px; background:#e74c3c; color:white; display:none;">離開組別</button>
  </div>
</div>

<script type="module" src="happiness-game.js"></script>
</body>
</html>








